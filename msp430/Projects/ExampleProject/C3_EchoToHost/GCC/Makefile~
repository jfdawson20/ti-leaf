DEVICE = MSP430F5510
EXAMPLE_NAME = C3_EchoToHost
USB_BASE =  ~/Sandbox/ti-leaf/msp430/USB_DEV_PACKAGE/MSP430_USB_Software/MSP430_USB_API/
REDHAT_GCC = 
CC = msp430-elf-gcc
GDB = msp430-elf-gdb
SUPPORT_FILE_DIRECTORY = /usr/ti/msp430/include
DRIVERLIB_DIR = ~/Sandbox/ti-leaf/msp430/USB_DEV_PACKAGE/MSP430_USB_Software/MSP430_USB_API/driverlib
MSP430_FILE = $(USB_BASE)/USB_API/msp430USB.ld
PROJECT_ROOT = $(USB_BASE)/examples/CDC_VirtualCOMport/$(EXAMPLE_NAME)
USB_CONFIG = $(PROJECT_ROOT)/USB_config
USB_API = $(USB_BASE)/USB_API


CFLAGS = -iquote$(DRIVERLIB_DIR) -iquote $(USB_API) -iquote$(USB_API)/USB_Common -iquote ../ -I../USB_config -I $(SUPPORT_FILE_DIRECTORY) -I $(USB_BASE) -I $(DRIVERLIB_DIR) -I $(PROJECT_ROOT) -I $(USB_CONFIG) -I $(USB_API) -D__$(DEVICE)__ -DDEPRECATED -mmcu=msp430f5510 -O3 -Os -fdata-sections -w
LFLAGS = -T $(MSP430_FILE) -T $(SUPPORT_FILE_DIRECTORY)/msp430f5510.ld -Wl,--gc-sections

SRC_FILES = \
../src/hal.c \
../src/main.c \
../src/system_pre_init.c \
../USB/USB_app/usbConstructs.c \
../USB/USB_app/usbEventHandling.c \
../USB/USB_config/descriptors.c \
../USB/USB_config/UsbIsr.c \
../../../../API/USB_API/USB_CDC_API/UsbCdc.c \
../../../../API/USB_API/USB_Common/usb.c \
../../../../API/USB_API/USB_Common/usbdma.c \
../../../../API/USB_API/USB_HID_API/UsbHid.c \
../../../../API/USB_API/USB_HID_API/UsbHidReq.c \
../../../../API/USB_API/USB_MSC_API/UsbMscReq.c \
../../../../API/USB_API/USB_MSC_API/UsbMscScsi.c \
../../../../API/USB_API/USB_MSC_API/UsbMscStateMachine.c \
../../../../API/USB_API/USB_PHDC_API/UsbPHDC.c \
../../../../API/driverlib/adc10_a.c \
../../../../API/driverlib/adc12_a.c \
../../../../API/driverlib/aes.c \
../../../../API/driverlib/battbak.c \
../../../../API/driverlib/comp_b.c \
../../../../API/driverlib/crc.c \
../../../../API/driverlib/dac12_a.c \
../../../../API/driverlib/dma.c \
../../../../API/driverlib/eusci_a_spi.c \
../../../../API/driverlib/eusci_a_uart.c \
../../../../API/driverlib/eusci_b_i2c.c \
../../../../API/driverlib/eusci_b_spi.c \
../../../../API/driverlib/flashctl.c \
../../../../API/driverlib/gpio.c \
../../../../API/driverlib/ldopwr.c \
../../../../API/driverlib/mpy32.c \
../../../../API/driverlib/pmap.c \
../../../../API/driverlib/pmm.c \
../../../../API/driverlib/ram.c \
../../../../API/driverlib/ref.c \
../../../../API/driverlib/rtc_a.c \
../../../../API/driverlib/rtc_b.c \
../../../../API/driverlib/rtc_c.c \
../../../../API/driverlib/sd24_b.c \
../../../../API/driverlib/sfr.c \
../../../../API/driverlib/sysctl.c \
../../../../API/driverlib/tec.c \
../../../../API/driverlib/timer_a.c \
../../../../API/driverlib/timer_b.c \
../../../../API/driverlib/timer_d.c \
../../../../API/driverlib/tlv.c \
../../../../API/driverlib/ucs.c \
../../../../API/driverlib/usci_a_spi.c \
../../../../API/driverlib/usci_a_uart.c \
../../../../API/driverlib/usci_b_i2c.c \
../../../../API/driverlib/usci_b_spi.c \
../../../../API/driverlib/wdt_a.c \


C3_EchoToHost: $(SRC_FILES)
	$(CC) $(CFLAGS) $(LFLAGS) $? -o $(EXAMPLE_NAME).out

debug: C3_EchoToHost
	$(GDB) $(EXAMPLE_NAME).out
